<launch>
    <arg name="turtle_id" default="0"/>
    <arg name="x" default="1"/>
    <arg name="y" default="0"/>

    <arg name="battery"   value="$(optenv TURTLEBOT_BATTERY /proc/acpi/battery/BAT0)"/>  <!-- /proc/acpi/battery/BAT0 -->
    <arg name="base"      value="$(optenv TURTLEBOT_BASE kobuki)"/> <!-- create, roomba -->
    <arg name="stacks"    value="$(optenv TURTLEBOT_STACKS hexagons)"/>  <!-- circles, hexagons -->
    <arg name="3d_sensor" value="$(optenv TURTLEBOT_3D_SENSOR kinect)"/>  <!-- kinect, asus_xtion_pro -->
    <arg name="urdf_file" default="$(find xacro)/xacro.py '$(find turtlebot_description)/robots/$(arg base)_$(arg stacks)_$(arg 3d_sensor).urdf.xacro'" />
    <param name="robot_description" command="$(arg urdf_file)"/>

    <param name="tf_prefix" value="robot$(arg turtle_id)_tf" />


    <!-- /description for shared description or just description for namespace based -->

    <node name="robot$(arg turtle_id)_spawn_turtlebot_model" pkg="gazebo_ros" type="spawn_model" args="-namespace robot$(arg turtle_id) -x $(arg x) -y $(arg y) -unpause -urdf -param /robot_description -model robot$(arg turtle_id)"/>

    <!--
    -->


    <node name="robot$(arg turtle_id)_robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher">
        <param name="publish_frequency" type="double" value="30.0" />
    </node>


</launch>
